@using Blazorit.Client.Shared.Routes.ECommerce.Domain;
@implements IBlazoritComponent

<div class="@(((IBlazoritComponent)this).GetClass("bit-shopcart-in-drawer"))">
    <div style="height:75%; overflow-x:auto;">
        <AntList DataSource="@CartState.State.CartList">
            <ChildContent Context="item">
                <ListItem NoFlex>
                    <ShopcartItem Item="@item" IsVisibleShopcartDrawer="@IsVisibleShopcartDrawer" IsVisibleShopcartDrawerChanged="@IsVisibleShopcartDrawerChanged" />
@*                    <GridRow>
                        <GridCol Span="8">
                            <Image Src="@item.ProductPictureLinkPart" />
                        </GridCol>
                        <GridCol Span="16">
                            <GridRow>
                                <GridCol Span="24">
                                    <b><a href="@(PageRouter.RefToProductPage(item))" onclick="@(async () => await ProductNameButton_ClickHandler(item))">@item.Name</a></b>
                                    
                                </GridCol>
                            </GridRow>
                            <GridRow>
                                <GridCol Span="24">
                                    sku: @item.Sku
                                </GridCol>
                            </GridRow>
                            <GridRow>
                                <GridCol Span="24">
                                    Quantity: @item.Quantity
                                </GridCol>
                            </GridRow>
                            <GridRow>
                                <GridCol Span="24">
                                    For one: @item.StrPrice
                                </GridCol>
                            </GridRow>
                            <GridRow>
                                <GridCol Span="24">
                                    <b>Price: @item.StrTotalPrice</b>
                                </GridCol>
                            </GridRow>
                        </GridCol>
                    </GridRow>*@
                </ListItem>
            </ChildContent>
        </AntList>
    </div>
  
    <div style="height:25%;">
        <Divider />
        <GridRow Justify="space-between">
            <GridCol Flex=@("none")>
                    <span style="font-weight:bold; font-size:2em;">Subtotal:</span>
            </GridCol>
            <GridCol Flex=@("none")>
                    <span style="font-size:2em;">@CartState.State.TotalPrice.ToString("N0")</span>
            </GridCol>           
        </GridRow>

        <Divider />

        <GridRow Gutter="20">
            <GridCol Span="12">
                <Button OnClick="@(async () => await ShopcartButton_ClickHandler())" Block>SHOPCART</Button>
            </GridCol>
            <GridCol Span="12">
                <Button Type="@ButtonType.Primary" Block>CHECKOUT</Button>
            </GridCol>
        </GridRow>     
    </div>
</div>